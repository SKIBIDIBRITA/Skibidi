<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typewriting Effect</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }

        #typewriter {
            font-size: 24px;
            border-right: 2px solid black;
            white-space: nowrap;
            overflow: hidden;
            animation: blink-caret 0.75s step-end infinite;
        }

        #nameInput {
            display: none;
            margin-top: 20px;
            font-size: 24px;
            border: none; /* No border */
            outline: none; /* Remove outline */
            border-bottom: 1px solid black; /* Just an underline */
            padding: 5px;
            width: 200px; /* Fixed width */
            background-color: #f0f0f0; /* Match background */
        }

        #greeting {
            font-size: 32px; /* Larger greeting */
            margin-top: 20px;
        }

        #loading {
            font-size: 20px;
            margin-top: 10px;
            opacity: 0; /* Initially hidden */
            transform: translateY(-20px); /* Start slightly above */
            transition: opacity 0.5s ease, transform 0.5s ease; /* Smooth transition */
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: black; }
        }
    </style>
</head>
<body>

    <div id="typewriter"></div>
    <input type="text" id="nameInput" placeholder="Enter your name" />
    <div id="greeting"></div>
    <div id="loading"></div>

    <script>
        const textArray = ["Hello", "What is your name?"];
        let currentTextIndex = 0;
        let currentCharIndex = 0;
        const typewriterElement = document.getElementById('typewriter');
        const nameInput = document.getElementById('nameInput');
        const greetingElement = document.getElementById('greeting');
        const loadingElement = document.getElementById('loading');
        let typingInterval;

        function type() {
            typingInterval = setInterval(() => {
                if (currentCharIndex < textArray[currentTextIndex].length) {
                    typewriterElement.innerHTML += textArray[currentTextIndex].charAt(currentCharIndex);
                    currentCharIndex++;
                } else {
                    clearInterval(typingInterval);
                    setTimeout(erase, 1000); // Pause before erasing
                }
            }, 100); // Faster typing speed
        }

        function erase() {
            typingInterval = setInterval(() => {
                if (currentCharIndex > 0) {
                    typewriterElement.innerHTML = textArray[currentTextIndex].substring(0, currentCharIndex - 1);
                    currentCharIndex--;
                } else {
                    clearInterval(typingInterval);
                    if (currentTextIndex === 1) {
                        nameInput.style.display = 'block';
                        nameInput.focus();
                        typewriterElement.innerHTML = ''; // Clear typewriter text
                    }
                    currentTextIndex++;
                    setTimeout(type, 500); // Pause before typing next text
                }
            }, 70); // Faster erase speed
        }

        let dotCount = 0;
        let loadingInterval;

        function startLoading() {
            loadingElement.style.opacity = '1'; // Fade in
            loadingElement.style.transform = 'translateY(0)'; // Move down into view
            loadingElement.innerHTML = 'Getting Information';
            loadingInterval = setInterval(() => {
                dotCount = (dotCount + 1) % 4; // Reset after 3 dots
                loadingElement.innerHTML = 'Getting Information' + '.'.repeat(dotCount);
            }, 500); // Add a dot every 500ms

            // Redirect after 5 seconds
            setTimeout(() => {
                clearInterval(loadingInterval);
                window.location.href = "https://example.com"; // Change this to your desired URL
            }, 5000);
        }

        function greetUser(name) {
            const greetingText = `Hello ${name}`;
            greetingElement.innerHTML = ''; // Clear previous greeting
            currentCharIndex = 0;

            // Type out the greeting
            const typingInterval = setInterval(() => {
                if (currentCharIndex < greetingText.length) {
                    greetingElement.innerHTML += greetingText.charAt(currentCharIndex);
                    currentCharIndex++;
                } else {
                    clearInterval(typingInterval);
                    // Start loading after greeting
                    startLoading();
                }
            }, 100); // Faster typing speed
            
            // Hide the typewriter and input after greeting is done
            setTimeout(() => {
                typewriterElement.style.display = 'none';
                nameInput.style.display = 'none';
            }, greetingText.length * 100 + 500); // Wait for greeting to finish
        }

        // Start the typewriter effect on page load
        document.addEventListener('DOMContentLoaded', function () {
            setTimeout(type, 500); // Initial delay
            nameInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    const name = nameInput.value;
                    nameInput.style.display = 'none';
                    greetUser(name);
                }
            });
        });
    </script>

</body>
</html>
